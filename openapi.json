{
    "openapi": "3.0.2",
    "info": {
        "title": "RCPCH Growth API",
        "description": "Returns SDS and centiles for child growth measurements using growth references.",
        "version": "3.0.3"
    },
    "paths": {
        "/uk-who/calculation": {
            "post": {
                "summary": "Uk Who Calculation",
                "description": "Centile calculation.\n---\nPOST:\n  summary: UK-WHO centile and SDS calculation.\n  description: |\n    * These are the 'standard' centiles for children in the UK. It uses a hybrid of the WHO and UK90 datasets.\n    * For non-UK use you may need the WHO-only or CDC charts which we do not yet support, but we may add if demand is there.\n    * Returns a single centile/SDS calculation for the selected `measurement_method`.\n    * Gestational age correction will be applied automatically if appropriate according to the gestational age at birth data supplied.\n    * Available `measurement_method`s are: `height`, `weight`, `bmi`, or `ofc` (OFC = occipitofrontal circumference = 'head circumference').\n    * Note that BMI must be precalculated for the `bmi` function.\n\n  requestBody:\n    content:\n      application/json:\n        schema: CalculationRequestParameters\n        example:\n            birth_date: \"2020-04-12\"\n            observation_date: \"2020-06-12\"\n            observation_value: 60\n            measurement_method: \"height\"\n            sex: male\n            gestation_weeks: 40\n            gestation_days: 4\n\n  responses:\n    200:\n      description: \"Centile calculation (single) according to the supplied data was returned\"\n      content:\n        application/json:\n          schema: CalculationResponseSchema",
                "operationId": "uk_who_calculation_uk_who_calculation_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/MeasurementRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/uk-who/chart-coordinates": {
            "post": {
                "summary": "Uk Who Chart Coordinates",
                "description": "Chart data.\n---\nPOST:\n  summary: UK-WHO Chart coordinates in plottable format\n    * Returns coordinates for constructing the lines of a traditional growth chart, in JSON format\n\n  requestBody:\n    content:\n      application/json:\n        schema: ChartDataRequestParameters\n\n  responses:\n    200:\n      description: \"Chart data for plotting a traditional growth chart was returned\"\n      content:\n        application/json:\n          schema: ChartDataResponseSchema",
                "operationId": "uk_who_chart_coordinates_uk_who_chart_coordinates_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChartCoordinateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/uk-who/fictional-child-data": {
            "post": {
                "summary": "Fictional Child Data",
                "operationId": "fictional_child_data_uk_who_fictional_child_data_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FictionalChildRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/turner/calculation": {
            "post": {
                "summary": "Turner Calculation",
                "description": "Centile calculation.\n---\nPOST:\n  summary: Turner's Syndrome centile and SDS calculation.\n  description: |\n    * This endpoint MUST ONLY be used for children with the chromosomal disorder Turner's Syndrome (45,XO karyotype).\n    * Returns a single centile/SDS calculation for the selected `measurement_method`.\n    * Gestational age correction will be applied automatically if appropriate according to the gestational age at birth data supplied.\n    * Available `measurement_method`s are: `height`, `weight`, `bmi`, or `ofc` (OFC = occipitofrontal circumference = 'head circumference').\n    * Note that BMI must be precalculated for the `bmi` function.\n\n  requestBody:\n    content:\n      application/json:\n        schema: CalculationRequestParameters\n        example:\n            birth_date: \"2020-04-12\"\n            observation_date: \"2020-06-12\"\n            observation_value: 60\n            measurement_method: \"height\"\n            sex: male\n            gestation_weeks: 40\n            gestation_days: 4\n\n  responses:\n    200:\n      description: \"Centile calculation (single) according to the supplied data was returned\"\n      content:\n        application/json:\n          schema: CalculationResponseSchema",
                "operationId": "turner_calculation_turner_calculation_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/MeasurementRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/turner/chart-coordinates": {
            "post": {
                "summary": "Turner Chart Coordinates",
                "description": "Chart data.\n---\nPOST:\n  summary: UK-WHO Chart coordinates in plottable format\n    * Returns coordinates for constructing the lines of a traditional growth chart, in JSON format\n    * Note height in girls conly be only returned. It is a post request to maintain consistency with other routes.\n\n  requestBody:\n    content:\n      application/json:\n        schema: ChartDataRequestParameters\n\n  responses:\n    200:\n      description: \"Chart data for plotting a traditional growth chart was returned\"\n      content:\n        application/json:\n          schema: ChartDataResponseSchema",
                "operationId": "turner_chart_coordinates_turner_chart_coordinates_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChartCoordinateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/turner/fictional-child-data": {
            "post": {
                "summary": "Fictional Child Data",
                "operationId": "fictional_child_data_turner_fictional_child_data_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FictionalChildRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/trisomy-21/calculation": {
            "post": {
                "summary": "Trisomy 21 Calculation",
                "description": "Centile calculation.\n---\npost:\n  summary: Trisomy 21 centile and SDS calculation.\n  description: |\n    * This endpoint MUST ONLY be used for children with Trisomy 21 (Down's Syndrome).\n    * Returns a single centile/SDS calculation for the selected `measurement_method`.\n    * Gestational age correction will be applied automatically if appropriate according to the gestational age at birth data supplied.\n    * Available `measurement_method`s are: `height`, `weight`, `bmi`, or `ofc` (OFC = occipitofrontal circumference = 'head circumference').\n    * Note that BMI must be precalculated for the `bmi` function.\n\n  requestBody:\n    content:\n      application/json:\n        schema: CalculationRequestParameters\n        example:\n            birth_date: \"2020-04-12\"\n            observation_date: \"2020-06-12\"\n            observation_value: 60\n            measurement_method: \"height\"\n            sex: male\n            gestation_weeks: 40\n            gestation_days: 4\n\n  responses:\n    200:\n      description: \"Centile calculation (single) according to the supplied data was returned\"\n      content:\n        application/json:\n          schema: CalculationResponseSchema",
                "operationId": "trisomy_21_calculation_trisomy_21_calculation_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/MeasurementRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/trisomy-21/chart-coordinates": {
            "post": {
                "summary": "Trisomy 21 Chart Coordinates",
                "description": "Chart data.\n---\nPOST:\n  summary: UK-WHO Chart coordinates in plottable format\n    * Returns coordinates for constructing the lines of a traditional growth chart, in JSON format\n    * Requires a sex ('male' or 'female' lowercase) and a measurement_method ('height', 'weight' ,'bmi', 'ofc')\n\n  requestBody:\n    content:\n      application/json:\n        schema: ChartDataRequestParameters\n        example:\n            \"sex\": \"female\"\n            \"measurement_method\":\"height\"\n\n  responses:\n    200:\n      description: \"Chart data for plotting a traditional growth chart was returned\"\n      content:\n        application/json:\n          schema: ChartDataResponseSchema",
                "operationId": "trisomy_21_chart_coordinates_trisomy_21_chart_coordinates_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChartCoordinateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/trisomy-21/fictional-child-data": {
            "post": {
                "summary": "Fictional Child Data",
                "operationId": "fictional_child_data_trisomy_21_fictional_child_data_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FictionalChildRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ChartCoordinateRequest": {
                "title": "ChartCoordinateRequest",
                "required": [
                    "sex",
                    "measurement_method"
                ],
                "type": "object",
                "properties": {
                    "sex": {
                        "title": "Sex",
                        "enum": [
                            "male",
                            "female"
                        ],
                        "type": "string"
                    },
                    "measurement_method": {
                        "title": "Measurement Method",
                        "enum": [
                            "height",
                            "weight",
                            "ofc",
                            "bmi"
                        ],
                        "type": "string"
                    }
                }
            },
            "FictionalChildRequest": {
                "title": "FictionalChildRequest",
                "required": [
                    "measurement_method",
                    "sex",
                    "reference"
                ],
                "type": "object",
                "properties": {
                    "measurement_method": {
                        "title": "Measurement Method",
                        "enum": [
                            "height",
                            "weight",
                            "ofc",
                            "bmi"
                        ],
                        "type": "string"
                    },
                    "sex": {
                        "title": "Sex",
                        "enum": [
                            "male",
                            "female"
                        ],
                        "type": "string"
                    },
                    "start_chronological_age": {
                        "title": "Start Chronological Age",
                        "type": "number",
                        "default": 0.0
                    },
                    "end_age": {
                        "title": "End Age",
                        "type": "number",
                        "default": 20.0
                    },
                    "gestation_weeks": {
                        "title": "Gestation Weeks",
                        "type": "integer",
                        "default": 40
                    },
                    "gestation_days": {
                        "title": "Gestation Days",
                        "type": "integer",
                        "default": 0
                    },
                    "measurement_interval_type": {
                        "title": "Measurement Interval Type",
                        "enum": [
                            "d",
                            "day",
                            "days",
                            "w",
                            "week",
                            "weeks",
                            "m",
                            "month",
                            "months",
                            "y",
                            "year",
                            "years"
                        ],
                        "type": "string",
                        "default": "days"
                    },
                    "measurement_interval_number": {
                        "title": "Measurement Interval Number",
                        "type": "integer",
                        "default": 20
                    },
                    "start_sds": {
                        "title": "Start Sds",
                        "type": "number",
                        "default": 0
                    },
                    "drift": {
                        "title": "Drift",
                        "type": "boolean",
                        "default": false
                    },
                    "drift_range": {
                        "title": "Drift Range",
                        "type": "number",
                        "default": -0.05
                    },
                    "noise": {
                        "title": "Noise",
                        "type": "boolean",
                        "default": false
                    },
                    "noise_range": {
                        "title": "Noise Range",
                        "type": "number",
                        "default": 0.005
                    },
                    "reference": {
                        "title": "Reference",
                        "enum": [
                            "uk-who",
                            "trisomy-21",
                            "turners-syndrome"
                        ],
                        "type": "string"
                    }
                }
            },
            "HTTPValidationError": {
                "title": "HTTPValidationError",
                "type": "object",
                "properties": {
                    "detail": {
                        "title": "Detail",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        }
                    }
                }
            },
            "MeasurementRequest": {
                "title": "MeasurementRequest",
                "required": [
                    "birth_date",
                    "observation_date",
                    "observation_value",
                    "sex",
                    "measurement_method"
                ],
                "type": "object",
                "properties": {
                    "birth_date": {
                        "title": "Birth Date",
                        "type": "string",
                        "format": "date"
                    },
                    "observation_date": {
                        "title": "Observation Date",
                        "type": "string",
                        "format": "date"
                    },
                    "observation_value": {
                        "title": "Observation Value",
                        "type": "number"
                    },
                    "sex": {
                        "title": "Sex",
                        "enum": [
                            "male",
                            "female"
                        ],
                        "type": "string"
                    },
                    "gestation_weeks": {
                        "title": "Gestation Weeks",
                        "type": "integer",
                        "default": 40
                    },
                    "gestation_days": {
                        "title": "Gestation Days",
                        "type": "integer",
                        "default": 0
                    },
                    "measurement_method": {
                        "title": "Measurement Method",
                        "enum": [
                            "height",
                            "weight",
                            "ofc",
                            "bmi"
                        ],
                        "type": "string"
                    }
                }
            },
            "ValidationError": {
                "title": "ValidationError",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "type": "object",
                "properties": {
                    "loc": {
                        "title": "Location",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "msg": {
                        "title": "Message",
                        "type": "string"
                    },
                    "type": {
                        "title": "Error Type",
                        "type": "string"
                    }
                }
            }
        }
    }
}